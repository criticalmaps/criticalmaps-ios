Scheme = 'Critical Maps'
AppIdentifier = 'de.pokuslabs.criticalmassberlin'

skip_docs

default_platform(:ios)

platform :ios do

  desc 'Run unit tests'
  lane :test do
    scan(
      project: "CriticalMaps.xcodeproj",
      scheme: Scheme,
      destination: "platform=iOS Simulator,name=iPhone 17 Pro,OS=26.0",
      result_bundle: true,
      output_directory: "./fastlane/test_output",
      xcargs: '-skipPackagePluginValidation -skipMacroValidation'
    )
    trainer(path: "./fastlane/test_output", output_directory: "./fastlane")
  end
end
